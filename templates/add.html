{% extends "base.html" %}

{% block title %}Adicionar Mangá{% endblock %}

{% block content %}
    <h2>Adicionar Mangá</h2>
    <form method="POST" id="addMangaForm" enctype="multipart/form-data">
        <div class="form-group">
            <label for="nome">Nome do Mangá</label>
            <input type="text" class="form-control" id="nome" name="nome" required>
        </div>
        <div class="form-group">
            <label for="descricao">Descrição</label>
            <textarea class="form-control" id="descricao" name="descricao" rows="4"></textarea>
        </div>
        <div class="form-group">
            <label for="categoria">Categoria</label>
            <input type="text" class="form-control" id="categoria" name="categoria" data-role="tagsinput">
        </div>
        <div class="form-group">
            <label for="url_base">URL Base</label>
            <input type="text" class="form-control" id="url_base" name="url_base" required>
        </div>
        <div class="form-group">
            <label for="capa">Imagem de Capa</label>
            <input type="file" class="form-control" id="capa" name="capa" accept="image/*" style="border: none; background-color: transparent;">
        </div>
        <button type="submit" class="btn btn-primary">Adicionar Mangá</button>
        <div id="loadingSpinner" class="spinner-border text-primary" role="status" style="display: none;">
            <span class="sr-only">Loading...</span>
        </div>
    </form>
{% endblock %}

{% block scripts %}
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-tagsinput/0.8.0/bootstrap-tagsinput.min.js"></script>
    <script>
        document.getElementById('addMangaForm').addEventListener('submit', function() {
            document.getElementById('loadingSpinner').style.display = 'inline-block';
        });
        $(document).ready(function() {
            $('#categoria').tagsinput({
                trimValue: true
            });
        });
    </script>
{% endblock %}
